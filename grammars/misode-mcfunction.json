
{
	"scopeName": "source.mcfunction",
	"name": "mcfunction",
	"fileTypes": ["mcfunction"],
	"patterns": [
		{
			"include": "#nbt-object"
		},
		{
			"match": "@[parse]",
			"name": "selector"
		},
		{
			"name": "argument",
      "begin": "\\[",
      "end": "\\]",
      "patterns":[
        {
          "match": "(scores|type|tag|name|team|x|y|z|dx|dy|dz|rotaion_x|rotation_y|distance|limit|sort|level|gamemode)[{_=]",
					"captures": {
						"1": {
							"name": "name"
						}
					}
    		},
				{
					"include": "#nbt-object"
				}
      ]
		},
		{
			"match": "(?:testfor|whitelist|ban|ban-ip|banlist|deop|kick|list|op|pardon|pardon-ip|save-all|save-off|save-on|setidletimeout|stop|whitelist|achievement|data|clear|clone|debug|defaultgamemode|difficulty|effect|enchant|execute|gamemode|gamerule|give|kill|locate|playsound|publish|say|players|objectives|scoreboard|team|seed|setblock|setworldspawn|spawnpoint|spreadplayers|summon|tellraw|time|set|add|toggledownfall|tp|weather|xp|replaceitem|stats|particle|tag|detect|teleport|testforblock|entity|operation|remove|title|actionbar|subtitle|advancement|function|fill|master|grant|revoke|everything|from|until|only|through|join|leave|dummy|option|color|if|unless|keep|replace|destroy|as|at|from|in|anchored|positioned|score|rotated|facing|align|store|run|merge|get|survival|creative|adventure|spectator|block|entity|)",
			"name": "command"
		},
		{
			"match": "^#.*",
			"name": "comment"
		},
		{
			"match": " (?:(?:~(?:-?\\d+(?:\\.\\d+)?)?)|(?:-?\\d+(?:\\.\\d+)?))",
			"name": "coord"
		},
		{
			"match": "^/",
			"name": "invalid.illegal.error.fslash"
		},
		{
			"match": "( |^)(?:(?:~?-?[0-9]+.?[0-9]*[bsfdi]?)|\\*|~)",
			"captures": {
				"1": {
					"name": "number"
				}
			}
		}
	],
	"repository": {
		"nbt-object": {
			"match": "{([^{}]*(?:{(.*)?})*[^{}]*)}",
			"name": "nbt-object",
			"captures": {
				"1": {
					"patterns": [
						{
							"match":"(DataVersion|id|Pos|Motion|Rotation|FallDistance|Fire|Air|OnGround|NoGravity|Dimension|Invulnerable|PortalCooldown|UUIDMost|UUIDLeast|CustomName|CustomNameVisible|Silent|Passengers|Glowing|Tags|CommandStats|SuccesCountObjective|SuccesCountName|AffectedBlocksObjective|AffectedBlocksName|AffectedEntitiesObjective|AffectedEntitiesName|AffectedItemsObjective|AffectedItemsName|QueryResultObjective|QueryResultName|Health|AbsorptionAmount|HurtTime|HurtByTimestamp|DeathTime|FallFlying|Attributes|Name|Base|Modifiers|Amount|Operation|ActiveEffects|Id|Amplifier|Duration|Ambient|ShowParticles|HandItems|Count|Slot|Damage|tag|ArmorItems|HandDropChances|ArmorDropChances|DeathLootTable|DeathLootTableSeed|CanPickUpLoot|NoAI|PersistenceRequired|LeftHanded|Team|Leashed|Leash|X|Y|Z|BatFlags|IsChickenJockey|EggLayTime|InLove|Age|ForcedAge|LoveCauseLeast|LoveCauseMost|powered|ExplosionRadius|Fuse|ignited|Bred|EatingHaystack|Tame|Temper|OwnerUUID|ArmorItem|SaddleItem|ChestHorse|Items|DragonPhase|carried|carriedData|LifeTime|PlayerSpawned|SpellTicks|ExplosionPower|Variant|isBaby|CanBreakDoors|Strength|DecorItem|Size|wasOnGround|CatType|Saddle|RabbitType|MoreCarrotTicks|Sheared|Color|Peek|AttachFace|APX|APY|APZ|SkeletonTrap|SkeletonTrapTime|Pumpkin|BoundX|BoundY|BoundZ|LifeTicks|Profession|Riches|Career|CareerLevel|Willing|Inventory|Offers|Recipes|rewardExp|maxUses|uses|buy|buyB|sell|playerCreated|Johnny|Invul|Angry|CollarColor|Anger|HurtBy|ConversionTime|shake|inData|pickup|player|life|damage|inGround|crit|CustomPotionEffects|Potion|CustomPotionColor|direction|power|ownerName|PickupDelay|Owner|Thrower|Value|Type|LootTable|LootTableSeed|Command|SuccesCount|LastOutput|TrackOutput|PushX|PushZ|Fuel|TransferCooldown|Enabled|SpawnPotentials|Weight|Properties|EntityId|SpawnData|SpawnCount|SpawnRange|Delay|MinSpawnDelay|MaxSpawnDelay|MaxNearbyEntities|RequiredPlayerRange|TNTFuse|Block|TileEntityData|Data|Time|DropItem|HurtEntities|FallHurtMax|FallHurtAmount|ReapplicationDelay|WaitTime|OwnerUUIDMost|OwnerUUIDLeast|DurationOnUse|RadiusPerTick|Particle|ParticleParam1|ParticleParam2|Effects|DisabledSlots|Marker|Invisible|NoBasePlate|Pose|Body|LeftArm|RightArm|LeftLeg|RightLeg|Head|ShowArms|Small|ShowBottom|BeamTarget|Warmup|Life|FireworksItem|Explosion|Flicker|Trail|Type|Colors|FadeColors|Fireworks|Flight|TileX|TileY|TileZ|Facing|ItemDropChance|ItemRotation|Motive|L|M|Steps|Target|TXD|TYD|TZD|x|y|z|Patterns|Pattern|Lock|Levels|Primary|Secondary|color|CustomColor|PotionId|SplashPotion|isMovable|BrewTime|OutputSignal|powered|auto|conditionMet|UpdateLastExecution|LastExecution|ExactTeleport|ExitPortal|Item|BurnTime|CookTime|CookTimeTotal|Record|RecordItem|note|powered|blockId|blockData|facing|progress|extending|source|Text1|Text2|Text3|Text4|SkullType|Rot|textures|Signature|name|author|metadata|posX|posY|posZ|sizeX|sizeY|sizeZ|rotation|mirror|mode|ignoreEntities|ench|display|AttributeModifiers|Unbreakable|SkullOwner|HideFlags|CanDestroy|generation|lvl|Lore|CanPlaceOn|BlockEntityTag|showair|showboundingbox|SelectedItem):",
							"captures": {
								"1": {
									"name": "nbt-key"
								}
							}
						},
						{
							"include": "#nbt-value"
						}
					]
				}
			}
		},
		"nbt-value": {
			"patterns": [
				{
					"include": "#nbt-object"
				},
				{
					"include": "#nbt-array"
				},
				{
					"include": "#nbt-number"
				},
				{
					"include": "#nbt-string"
				}
			]
		},
		"nbt-array": {
			"match": "\\[([^\\[\\]]*(\\[(.*)?\\])*[^\\[\\]]*)\\]",
			"name": "nbt-array",
			"captures": {
				"1": {
					"patterns": [
						{
							"include": "#nbt-object"
						},
						{
							"include": "#nbt-array"
						},
						{
							"include": "#nbt-number"
						},
						{
							"include": "#nbt-string"
						}
					]
				}
			}
		},
		"nbt-string": {
			"name": "nbt-string",
			"match": "\"(?:[^\"\\\\]|\\\\.)*\""
		},
		"nbt-number": {
			"match": "(-?[0-9]+[bsfdi]?)",
			"captures": {
				"1": {
					"name": "nbt-number"
				}
			}
		}
	}
}
